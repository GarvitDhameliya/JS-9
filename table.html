<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- show Data -->
    <table>
      <thead>
        <th>First name</th>
        <th>Last name</th>
        <th>Age</th>
      </thead>
      <tbody id="table-body">
        <tr></tr>
      </tbody>
    </table>

    <!-- form -->
    <input type="text" name="fname" id="fname" />
    <input type="text" name="lname" id="lname" />
    <input type="text" name="age" id="age" />
    <button onclick="save()">Save</button>

    <script>
      // litrals
      //   let name = "garvit";
      //   console.log(`my name is ${name}`);

      const arr = JSON.parse(localStorage.getItem("details")) || [];
      const tbody = document.getElementById("table-body");
      //   or

      //   const arr = localStorage.getItem("details")
      //     ? JSON.parse(localStorage.getItem("details"))
      //     : [];

      const save = () => {
        const fname = document.getElementById("fname").value;
        const lname = document.getElementById("lname").value;
        const age = document.getElementById("age").value;

        const data = {
          fname,
          lname,
          age,
        };

        console.log(data);

        arr.push(data);

        localStorage.setItem("details", JSON.stringify(arr));
        loadData(data);
      };

      arr.forEach(loadData);

      function loadData(e) {
        console.log(e, "data");
        const tr = document.createElement("tr");
        tr.innerHTML = `<td>${e.fname}</td>
                        <td>${e.lname}</td>
                         <td>${e.age}</td>
                         <button onclick="removeData(${e.fname})">remove</button>
                         `;
        tbody.appendChild(tr);
      }

      function removeData(fname) {
        console.log(fname);
      }
    </script>
  </body>
</html>
